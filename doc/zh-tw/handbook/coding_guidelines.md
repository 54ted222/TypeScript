<!-- markdownlint-disable MD005 -->
<!-- markdownlint-disable MD029 -->

這個編碼規範是給TypeScript開發團隊在開發TypeScript時使用的。
對於使用TypeScript的普通使用者來說不一定適用，但是可以做為一個參考。

## 命名

1. 使用PascalCase為類型命名。
2. 不要使用`I`做為介面名字首。
3. 使用PascalCase為列舉值命名。
4. 使用camelCase為函數命名。
5. 使用camelCase為屬性或本地變數命名。
6. 不要為私有屬性名新增`_`字首。
7. 儘可能使用完整的單詞拼寫命名。

## 元件

1. 1個檔案對應一個邏輯元件 （比如：解析器，檢查器）。
2. 不要新增新的檔案。 :)
3. `.generated.*`字尾的檔案是自動生成的，不要手動改它。

## 類型

1. 不要匯出類型/函數，除非你要在不同的元件中共享它。
2. 不要在全局名稱空間內定義類型/值。
3. 共享的類型應該在`types.ts`裡定義。
4. 在一個檔案裡，類型定義應該出現在頂部。

## `null` 和 `undefined`：

1. 使用 **undefined**，不要使用 null。

## 一般假設

1. 假設像Nodes，Symbols等這樣的物件在定義它的元件外部是不可改變的。不要去改變它們。
2. 假設陣列是不能改變的。

## 類

1. 為了保持一致，在核心編譯鏈中不要使用類，使用函數閉包代替。

## 標記

1. 一個類型中有超過2個布爾屬性時，把它變成一個標記。

## 註釋

為函數，介面，列舉類型和類使用JSDoc風格的註釋。

## 字元串

1. 使用雙引號`""`
2. 所有要展示給使用者看的資訊字元串都要做好本地化工作（在diagnosticMessages.json中建立新的實體）。

## 錯誤提示資訊

1. 在句子結尾使用`.`。
2. 對不確定的實體使用不定冠詞。
3. 確切的實體應該使用名字（變數名，類型名等）
4. 當建立一條新的規則時，主題應該使用單數形式（比如：An external module cannot...而不是External modules cannot）。
5. 使用現在時態。

## 錯誤提示資訊程式碼

提示資訊被劃分類成了一般的區間。如果要新加一個提示資訊，在上條程式碼上加1做為新的程式碼。

* 1000 語法資訊
* 2000 語言資訊
* 4000 聲明生成資訊
* 5000 編譯器選項資訊
* 6000 命令列編譯器資訊
* 7000 noImplicitAny資訊

## 普通方法

由於種種原因，我們避免使用一些方法，而使用我們自己定義的。

1. 不使用ECMAScript 5函數；而是使用[core.ts](https://github.com/Microsoft/TypeScript/blob/master/src/compiler/core.ts)這裡的。
2. 不要使用`for..in`語句；而是使用`ts.forEach`，`ts.forEachKey`和`ts.forEachValue`。注意它們之間的區別。
3. 如果可能的話，嘗試使用`ts.forEach`，`ts.map`和`ts.filter`代替迴圈。

## 風格

1. 使用arrow函數代替匿名函數表示式。
2. 只要需要的時候才把arrow函數的參數括起來。<br />比如，`(x) => x + x`是錯誤的，下面是正確的做法：

  1. `x => x + x`
  2. `(x,y) => x + y`
  3. `<T>(x: T, y: T) => x === y`

3. 總是使用`{}`把迴圈體和條件語句括起來。
4. 開始的`{`總是在同一行。
5. 小括號裡開始不要有空白. <br />逗號，冒號，分號後要有一個空格。比如：

  1. `for (var i = 0, n = str.length; i < 10; i++) { }`
  2. `if (x < 10) { }`
  3. `function f(x: number, y: string): void { }`

6. 每個變數聲明語句只聲明一個變數 <br />（比如 使用 `var x = 1; var y = 2;` 而不是 `var x = 1, y = 2;`）。
7. `else`要在結束的`}`後另起一行。
